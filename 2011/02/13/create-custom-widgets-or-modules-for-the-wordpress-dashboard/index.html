<!DOCTYPE html>
<html>
        <head>
    <title>Create custom widgets for the wordpress dashboard</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="description" content="Following on from my previous post on how to remove the default widgets/modules on the wordpress dashboard, today I&#39;m going to show you how quick and sim...">
    <meta name="keywords" content="" />
    <script src="/js/jquery.min.js"></script>
    <script src="/js/init.js"></script>

    <link rel="stylesheet" href="/css/main.css">

    <link rel="canonical" href="//2011/02/13/create-custom-widgets-or-modules-for-the-wordpress-dashboard">
    <link rel="alternate" type="application/atom+xml" title="zcourts AKA Courtney Robinson" href="/feed.xml" />
</head>
    <body>
        <!-- Header -->
<div id="header" class="skel-layers-fixed">

    <div class="top">

        <!-- Logo -->
        <div id="logo">
            <span class="image avatar48"><img src="/images/avatar.jpg" alt=""/></span>

            <h1 id="title">zcourts</h1>
            <p>Courtney Robinson</p>
            <p>Software Engineer</p>
            <p>PhD Student</p>
        </div>

        <!-- Nav -->
        <nav id="nav">
            <!--

                Prologue's nav expects links in one of two formats:

                1. Hash link (scrolls to a different section within the page)

                   <li><a href="#foobar" id="foobar-link" class="icon fa-whatever-icon-you-want skel-layers-ignoreHref"><span class="label">Foobar</span></a></li>

                2. Standard link (sends the user to another page/site)

                   <li><a href="http://foobar.tld" id="foobar-link" class="icon fa-whatever-icon-you-want"><span class="label">Foobar</span></a></li>

            -->
            <ul>
                <li><a href="/#top" id="top-link" class="skel-layers-ignoreHref"><span class="icon fa-home">Home</span></a></li>
                <li><a href="/#portfolio" id="portfolio-link" class="skel-layers-ignoreHref"><span class="icon fa-th">Projects</span></a></li>
                <li><a href="/posts" id="blog-link" class="skel-layers-ignoreHref"><span class=" glyphicon glyphicon-comment">Blog posts</span></a></li>
                <li><a href="/categories.html" id="cat-link" class="skel-layers-ignoreHref"><span class=" glyphicon glyphicon-tags">Categories</span></a></li>
                <li><a href="/about-courtney-robinson" id="about-link" class="skel-layers-ignoreHref"><span class="icon fa-user">About Me</span></a></li>
                <li><a href="/#contact" id="contact-link" class="skel-layers-ignoreHref"><span class="icon fa-envelope">Contact</span></a></li>
            </ul>
        </nav>

    </div>

    <div class="bottom">

        <!-- Social Icons -->
        <ul class="icons">
            <li><a href="https://twitter.com/zcourts" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
            <li><a href="https://www.facebook.com/zcourts" class="icon fa-facebook"><span class="label">Facebook</span></a></li>
            <li><a href="https://github.com/zcourts" class="icon fa-github"><span class="label">Github</span></a></li>
            <li><a href="mailto:site@crlog.info" class="icon fa-envelope"><span class="label">Email</span></a></li>
        </ul>

    </div>

</div>
        <!-- Main -->
        <div id="main">
            <div class="post">

    <header class="post-header">
        <h1 class="post-title">Create custom widgets for the wordpress dashboard</h1>

        <p class="post-meta">Feb 13, 2011 • zcourts
            </p>
    </header>

    <article class="post-content">
        <p>Following on from my previous post on <a href="http://www.crlog.info/tutorials/remove-the-default-dashboard-widgets-from-wordpress-programatically.html">how to remove the default widgets/modules on the wordpress dashboard</a>, today I&#39;m going to show you how quick and simple it is to add your own custom widget/module that displays or does what ever you want it to.</p>

<p>The code below creates to widgets on our dashboard with the title of posts from two different categories,
specified by the cat=x parameter.</p>
<div class="highlight"><pre><code class="language-php" data-lang="php"> // add 10 most recent post to dashboard from category with id 10
 function blogPost_widget() {
 $recentPosts = new WP_Query();
 $recentPosts-&gt;query('showposts=10<span class="ni">&amp;cat=10');</span>
 ?&gt;
 <span class="nt">&lt;ul&gt;</span>
 <span class="cp">&lt;?php</span>
 <span class="k">while</span> <span class="p">(</span><span class="nv">$recentPosts</span><span class="o">-&gt;</span><span class="na">have_posts</span><span class="p">())</span> <span class="o">:</span> <span class="nv">$recentPosts</span><span class="o">-&gt;</span><span class="na">the_post</span><span class="p">();</span>
 <span class="cp">?&gt;</span>
 <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"</span><span class="cp">&lt;?php</span><span class="err"> </span> <span class="nx">the_permalink</span><span class="p">();</span> <span class="cp">?&gt;</span><span class="s">"</span><span class="nt">&gt;</span><span class="cp">&lt;?php</span> <span class="nx">the_title</span><span class="p">();</span> <span class="cp">?&gt;</span><span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
 <span class="cp">&lt;?php</span> <span class="k">endwhile</span><span class="p">;</span> <span class="cp">?&gt;</span>
 <span class="nt">&lt;/ul&gt;</span>
 <span class="cp">&lt;?php</span>
 <span class="p">}</span>
 <span class="c1">//adds news widget to dashboard
</span> <span class="k">function</span> <span class="nf">blogNews_widget</span><span class="p">()</span> <span class="p">{</span>
 <span class="nv">$recentPosts</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WP_Query</span><span class="p">();</span>
 <span class="nv">$recentPosts</span><span class="o">-&gt;</span><span class="na">query</span><span class="p">(</span><span class="s1">'showposts=10&amp;cat=1'</span><span class="p">);</span>
 <span class="cp">?&gt;</span>
 <span class="nt">&lt;ul&gt;</span>
 <span class="cp">&lt;?php</span>
 <span class="k">while</span> <span class="p">(</span><span class="nv">$recentPosts</span><span class="o">-&gt;</span><span class="na">have_posts</span><span class="p">())</span> <span class="o">:</span> <span class="nv">$recentPosts</span><span class="o">-&gt;</span><span class="na">the_post</span><span class="p">();</span>
 <span class="cp">?&gt;</span>
 <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nx">the_permalink</span><span class="p">()</span> <span class="cp">?&gt;</span><span class="s">"</span> <span class="nt">&gt;</span><span class="cp">&lt;?php</span> <span class="nx">the_title</span><span class="p">();</span> <span class="cp">?&gt;</span><span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
 <span class="cp">&lt;?php</span> <span class="k">endwhile</span><span class="p">;</span> <span class="cp">?&gt;</span>
 <span class="nt">&lt;/ul&gt;</span>
 <span class="cp">&lt;?php</span>
 <span class="p">}</span>
 <span class="c1">// Create the function use in the action hook
</span>
 <span class="k">function</span> <span class="nf">add_dashboard_widgets</span><span class="p">()</span> <span class="p">{</span>
 <span class="c1">//this will display titles and links to the blog posts
</span> <span class="nx">wp_add_dashboard_widget</span><span class="p">(</span><span class="s1">'blogPost_widget'</span><span class="p">,</span> <span class="s1">'Recent Blog Posts'</span><span class="p">,</span> <span class="s1">'blogPost_widget'</span><span class="p">);</span><span class="c1">//widget one
</span> <span class="nx">wp_add_dashboard_widget</span><span class="p">(</span><span class="s1">'blogNews_widget'</span><span class="p">,</span> <span class="s1">'Company news'</span><span class="p">,</span> <span class="s1">'blogNews_widget'</span><span class="p">);</span><span class="c1">//widget two
</span> <span class="p">}</span>

 <span class="c1">// Hook into the 'wp_dashboard_setup' action to register our other functions
</span>
 <span class="nx">add_action</span><span class="p">(</span><span class="s1">'wp_dashboard_setup'</span><span class="p">,</span> <span class="s1">'add_dashboard_widgets'</span><span class="p">);</span>
</code></pre></div>
<p>The above code goes into your functions.php file for a template or anywhere in your plugin file. Taken directly from the wordpress documentation, the wp_add_dashboard_widget is the magic function here,
it gives our widget an ID and a name and tells wordpress which function to invoke when creating the widget.
The parameters expected from the wordpress docs are:</p>

<p>&lt;?php wp_add_dashboard_widget($widget_id, $widget_name, $callback, $control_callback ); ?&gt;</p>

<p><strong>Parameters</strong></p>

<p>$widget_id</p>

<p>(<a href="http://codex.wordpress.org/How_to_Pass_Tag_Parameters#Integer"><em>integer</em></a>) (<em>required</em>) an identifying slug for your widget. This will be used as its css class and its key</p>

<p>in the array of widgets.</p>

<p>Default: <em>None</em></p>

<p>$widget_name</p>

<p>(<a href="http://codex.wordpress.org/How_to_Pass_Tag_Parameters#String"><em>string</em></a>) (<em>required</em>) this is the name your widget will display in its heading.</p>

<p>Default: <em>None</em></p>

<p>$callback</p>

<p>(<a href="http://codex.wordpress.org/How_to_Pass_Tag_Parameters#String"><em>string</em></a>) (<em>required</em>) The name of a function you create that will display the actual contents of your widget.</p>

<p>Default: <em>None</em></p>

<p>$control_callback</p>

<p>(<a href="http://codex.wordpress.org/How_to_Pass_Tag_Parameters#String"><em>string</em></a>) (<em>optional</em>) The name of a function you create that will handle submission</p>

<p>of widget options forms, and will also display the form elements.</p>

<p>Further reading: <a href="http://codex.wordpress.org/Function_Reference/wp_add_dashboard_widget">http://codex.wordpress.org/Function_Reference/wp_add_dashboard_widget</a></p>

    </article>
    <footer class="post-footer">
        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'zcourts'; // required: replace example with your forum shortname

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
    </footer>
</div>

        </div>
        <!-- Footer -->
<div id="footer">
    <!-- Copyright -->
    <ul class="copyright">
        <li><a href="http://zcourts.com">&copy; zcourts</a></li>
        <li>i.e. &copy; Courtney Robinson. All rights reserved.</li>
    </ul>

</div>
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-46289473-4', 'auto');
            ga('require', 'linkid', 'linkid.js');
            ga('send', 'pageview');

        </script>
        <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=zcourts" async="async"></script>
    </body>
</html>
