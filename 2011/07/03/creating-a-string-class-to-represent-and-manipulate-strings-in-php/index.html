<!DOCTYPE html>
<html>
        <head>
    <title>Creating a String class to represent and manipulate strings in PHP</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="description" content="In getting started with PHPUnit, I didn&#39;t have any code I felt like writing unit tests for. Mainly because I wanted to start with something very simple. ...">
    <meta name="keywords" content="" />
    <script src="/js/jquery.min.js"></script>
    <script src="/js/init.js"></script>

    <link rel="stylesheet" href="/css/main.css">

    <link rel="canonical" href="//2011/07/03/creating-a-string-class-to-represent-and-manipulate-strings-in-php">
    <link rel="alternate" type="application/atom+xml" title="zcourts AKA Courtney Robinson" href="/feed.xml" />
</head>
    <body>
        <!-- Header -->
<div id="header" class="skel-layers-fixed">

    <div class="top">

        <!-- Logo -->
        <div id="logo">
            <span class="image avatar48"><img src="/images/avatar.jpg" alt=""/></span>

            <h1 id="title">zcourts</h1>
            <p>Courtney Robinson</p>
            <p>Software Engineer</p>
            <p>PhD Student</p>
        </div>

        <!-- Nav -->
        <nav id="nav">
            <!--

                Prologue's nav expects links in one of two formats:

                1. Hash link (scrolls to a different section within the page)

                   <li><a href="#foobar" id="foobar-link" class="icon fa-whatever-icon-you-want skel-layers-ignoreHref"><span class="label">Foobar</span></a></li>

                2. Standard link (sends the user to another page/site)

                   <li><a href="http://foobar.tld" id="foobar-link" class="icon fa-whatever-icon-you-want"><span class="label">Foobar</span></a></li>

            -->
            <ul>
                <li><a href="/#top" id="top-link" class="skel-layers-ignoreHref"><span class="icon fa-home">Home</span></a></li>
                <li><a href="/#portfolio" id="portfolio-link" class="skel-layers-ignoreHref"><span class="icon fa-th">Projects</span></a></li>
                <li><a href="/posts" id="blog-link" class="skel-layers-ignoreHref"><span class=" glyphicon glyphicon-comment">Blog posts</span></a></li>
                <li><a href="/categories.html" id="cat-link" class="skel-layers-ignoreHref"><span class=" glyphicon glyphicon-tags">Categories</span></a></li>
                <li><a href="/about-courtney-robinson" id="about-link" class="skel-layers-ignoreHref"><span class="icon fa-user">About Me</span></a></li>
                <li><a href="/#contact" id="contact-link" class="skel-layers-ignoreHref"><span class="icon fa-envelope">Contact</span></a></li>
            </ul>
        </nav>

    </div>

    <div class="bottom">

        <!-- Social Icons -->
        <ul class="icons">
            <li><a href="https://twitter.com/zcourts" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
            <li><a href="https://www.facebook.com/zcourts" class="icon fa-facebook"><span class="label">Facebook</span></a></li>
            <li><a href="https://github.com/zcourts" class="icon fa-github"><span class="label">Github</span></a></li>
            <li><a href="mailto:site@crlog.info" class="icon fa-envelope"><span class="label">Email</span></a></li>
        </ul>

    </div>

</div>
        <!-- Main -->
        <div id="main">
            <div class="post">

    <header class="post-header">
        <h1 class="post-title">Creating a String class to represent and manipulate strings in PHP</h1>

        <p class="post-meta">Jul 3, 2011 â€¢ zcourts
            </p>
    </header>

    <article class="post-content">
        <p>In getting started with PHPUnit, I didn&#39;t have any code I felt like writing unit tests for. Mainly because I wanted to start with something very simple. I started writing some code, one thing lead to another and I ended with a simple class to represent a string. It only has a few methods but it was more than enough to provide me with quite a few test cases. The unit test for the class in another post I&#39;m going to do soon. (<del>PHP Unit tests for string class is here</del>)</p>

<p>&lt;!-- more --&gt;The class then is:</p>
<div class="highlight"><pre><code class="language-PHP" data-lang="PHP">&lt;?php

class String {

    /**
     * The string content this object respresents
     * @var string
     */
    var $string;

    public function __construct($chars=NULL) {
        if ($chars != NULL) {
            $this-&gt;string = $chars;
        }
    }

    /**
     * @return integer The size/length of the string in its current state
     */
    public function size() {
        return strlen($this-&gt;string);
    }

    /**
     * Find and return the charcater at a given position
     * @param integer $idx
     * @return mixed NULL if the idnex is invalid or the character found at the
     * specified index.
     */
    public function charAt($idx) {
        if ($idx &lt; 0 || $idx &gt; strlen($this-&gt;string)) {
            return NULL;
        }
        return substr($this-&gt;string, $idx, 1);
    }

    /**
     * Compares two strings to determine if they are the same. Two strings are the
     * same , IF AND ONLY IF they have the same length and the same set or characters
     * in the same order.
     * @param string $someStr the string to compare to
     * @package $caseSensitive (Optional) Defaults to true, if true the a case sensitive
     * compaison is done, if false an in-case sensitive comparison is done.
     * @return Returns null if the parameter is an object that is not itself a String
     * or returns -1 if the string this object represent is less than the parameter
     * and 1 if it is greater and 0 if they're equal
     * So -1 if this string is less than the parameter;
     * 1 if this striing is greater than the paramter, and 0 if they are equal.
     *
     * if strings are the same length and chars don't match in exactly the same order
     * then -2 is returned
     */
    public function compareTo($someStr, $caseSensitive=TRUE) {
        if (is_object($someStr)) {
            if ($someStr instanceof String) {
                $someStr = $someStr-&gt;toString();
            } else {
                return NULL;
            }
        }
        if (strlen($this-&gt;string) &lt; strlen($someStr))
            return -1;
        if (strlen($this-&gt;string) &gt; strlen($someStr))
            return 1;
        //if they are the same length then compare chars
        $val = $this-&gt;string;
        if (!$caseSensitive) {
            $someStr = strtolower($someStr);
            $this-&gt;string = strtolower($this-&gt;string);
        }
        for ($i = 0; $i &lt; strlen($this-&gt;string); $i++) {
            if ($val[$i] != $someStr[$i]) {
                //if strings are the same length and chars don't match
                return -2;
            }
        }
        //if the strins are a perfect match in length and chars
        return 0;
    }

    /**
     * Replace thw string this object represents and set the new string
     * specified in the param.
     * @param string $str The string to set
     * @return true if the string is set successfully false otherwise
     */
    public function setString($str) {
        if (!is_object($str)) {
            $this-&gt;string = $str;
            return true;
        }
        return false;
    }

    /**
     * Returns the string value this object represents after any operations
     * have been performed on it.
     * @return string
     */
    public function toString() {
        return $this-&gt;string;
    }

}
</code></pre></div>
<p>As you can see it only has a few methods. I might add some more but there wasn&#39;t much point to writing this other than to get some unit tests written.</p>

    </article>
    <footer class="post-footer">
        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'zcourts'; // required: replace example with your forum shortname

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
    </footer>
</div>

        </div>
        <!-- Footer -->
<div id="footer">
    <!-- Copyright -->
    <ul class="copyright">
        <li><a href="http://zcourts.com">&copy; zcourts</a></li>
        <li>i.e. &copy; Courtney Robinson. All rights reserved.</li>
    </ul>

</div>
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-46289473-4', 'auto');
            ga('require', 'linkid', 'linkid.js');
            ga('send', 'pageview');

        </script>
        <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=zcourts" async="async"></script>
    </body>
</html>
